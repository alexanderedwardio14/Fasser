<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - Fiber Optic Shop</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="./image/favicon.png" type="image/x-icon">
    <script src="script.js" defer></script>
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
    </script>
</head>
<body>
    <header>
        <img src="./image/logo.png" alt="Fasser Logo" class="logo">
        <nav>
            <div class="menu-toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <ul class="nav-list">
                <li><a href="index.html">Beranda</a></li>
                <li><a href="about.html">Tentang Kami</a></li>
                <li class="dropdown">
                    <a href="products.html" class="dropbtn" id="all-products-link">Produk</a>
                    <div class="dropdown-content" id="category-list">
                        <a href="products.html?category=Patch Cord" data-category="Patch Cord">Patch Cord</a>
                        <a href="products.html?category=Fiber Optic Tool" data-category="Fiber Optic Tool">Fiber Optic Tool</a>
                        <a href="products.html?category=Fiber Optic Equipment" data-category="Fiber Optic Equipment">Fiber Optic Equipment</a>
                        <a href="products.html?category=Fiber Optic Accessory" data-category="Fiber Optic Accessory">Fiber Optic Accessory</a>
                    </div>
                </li>
                <li><a href="contact.html">Kontak Kami</a></li>
            </ul>
        </nav>
    </header>
    <section id="products">
        <h2>Our Products</h2>
        <div class="category-grid" id="category-grid">
            <!-- Kategori akan dimuat di sini -->
            <div class="category-card" data-category="Patch Cord">
                <img src="./image/PatchCord.png" alt="Patch Cord">
                <h3>Patch Cord</h3>
            </div>
            <div class="category-card" data-category="Fiber Optic Tool">
                <img src="./image/FiberOpticTool.png" alt="Fiber Optic Tool">
                <h3>Fiber Optic Tool</h3>
            </div>
            <div class="category-card" data-category="Fiber Optic Equipment">
                <img src="./image/FiberOpticEquipment.png" alt="Fiber Optic Equipment">
                <h3>Fiber Optic Equipment</h3>
            </div>
            <div class="category-card" data-category="Fiber Optic Accessory">
                <img src="./image/FiberOpticAccessory.png" alt="Fiber Optic Accessory">
                <h3>Fiber Optic Accessory</h3>
            </div>
        </div>
        <div class="product-grid" id="product-grid" style="display: none;">
            <!-- Produk akan dimuat di sini -->
        </div>
    </section>
    <div class="blackbox">
        <div class="aboutus">
            <h3>Tentang kami</h3>
            <p>Fasser blaa bla bla isi nya apa ya</p>
        </div>
        <div class="customersupport">
            <h3>Customer Support</h3>
            <p>
                Office :
                <br>021-2256-3835<br>

                <br>Whatsapp Support :
                <br><a href="https://wa.me/6281322622658" target="_blank">0813-2262-2658</a>
                <br><a href="https://wa.me/6282229997768" target="_blank">0822-2999-7768</a>
                <br><a href="https://wa.me/6281280019996" target="_blank">0812-8001-9996</a><br>

                <br>Email :
                <br><a href="mailto:cs@haganerack.com" target="_blank">cs@haganerack.com</a>
                <br><a href="mailto:sales1@haganerack.com" target="_blank">sales1@haganerack.com</a>
                <br><a href="mailto:sales7@haganerack.com" target="_blank">sales7@haganerack.com</a>
                <br><a href="mailto:sales8@haganerack.com" target="_blank">sales8@haganerack.com</a>
                <br><a href="mailto:sales9@haganerack.com" target="_blank">sales9@haganerack.com</a>
            </p>
        </div>
        <div class="link">
            <h3>Link</h3>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="products.html">Products</a></li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 Fiber Optic Shop. All rights reserved.</p>
    </footer>
    <!-- Tambahkan tombol Help dan form -->
    <button id="help-button">
        <img src="./image/icon-mail.png" alt="Help Icon" class="help-icon">
    </button>
    <div id="help-form" class="help-form">
        <form id="helpContactForm">
            <h3>Kontak Form</h3>
            <input type="text" id="help-name" name="name" placeholder="Nama" required>
            
            <input type="email" id="help-email" name="email" placeholder="Email" required>
            
            <input type="tel" id="help-phone" name="phone" placeholder="No Telepon" pattern="[0-9]{10,15}" required>
            
            <input type="text" id="help-company" name="company" placeholder="Nama Perusahaan" required>

            <textarea id="help-message" name="message" rows="4" placeholder="Pesan" required></textarea>
            
            <button type="submit">Kirim</button>
        </form>
    </div>
    <script>
        // JavaScript untuk tombol Help dan form
        const helpButton = document.getElementById('help-button');
        const helpForm = document.getElementById('help-form');

        helpButton.addEventListener('click', function() {
            helpForm.classList.toggle('active');
        });

        document.getElementById('helpContactForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Mencegah form submit default
            sendFormData('helpContactForm', 'help-name', 'help-email', 'help-phone', 'help-company', 'help-message');
        });

        // JavaScript untuk filter produk
        document.addEventListener('DOMContentLoaded', function() {
            const categoryCards = document.querySelectorAll('.category-card');
            const productGrid = document.getElementById('product-grid');
            const categoryGrid = document.getElementById('category-grid');

            categoryCards.forEach(card => {
                card.addEventListener('click', function() {
                    const category = card.dataset.category;
                    displayProductsByCategory(category);
                });
            });

            function displayProductsByCategory(category) {
                const cachedData = localStorage.getItem('products');
                if (cachedData) {
                    const data = JSON.parse(cachedData);
                    const filteredProducts = data.filter(product => product.Category === category);
                    productGrid.innerHTML = ''; // Clear previous products

                    filteredProducts.forEach(product => {
                        const productDiv = document.createElement('div');
                        productDiv.classList.add('product-card');
                        productDiv.dataset.category = product.Category;
                        productDiv.innerHTML = `
                            <img src="${product.Image}" alt="${product.Name}">
                            <div class="product-info">
                                <h3>${product.Name}</h3>
                            </div>
                        `;
                        productDiv.addEventListener('click', function() {
                            viewProductDetail(product.ID);
                        });
                        productGrid.appendChild(productDiv);
                    });

                    categoryGrid.style.display = 'none'; // Sembunyikan kategori
                    productGrid.style.display = 'grid'; // Tampilkan produk
                } else {
                    console.error('Tidak ada data produk di localStorage');
                }
            }

            // Check if category is specified in URL
            const urlParams = new URLSearchParams(window.location.search);
            const category = urlParams.get('category');
            if (category) {
                displayProductsByCategory(category);
            }
        });

        // Function to redirect to product detail page
        function viewProductDetail(productId) {
            window.location.href = `productdetail.html?id=${productId}`;
        }
    </script>
</body>
</html>
